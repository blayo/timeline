<html>
  <head>
    <title>Milebook</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="https://dev.mavo.io/dist/mavo.js"></script>
    <link rel="stylesheet" href="https://dev.mavo.io/dist/mavo.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"/>
    <script type="text/javascript">
Mavo.Plugins.register('duration', {
  extend: {
    Functions: {
      duration: function (hours, activity) {
	var seconds = [];
	for (var i = 0; i < hours.length; i++) {
		var parts = hours[i].split('h');
		seconds.push(Number(parts[0])*3600 + Number(parts[1])*60);
	}
	var durations = [];
	for (var i = 1; i < seconds.length; i++) {
		durations.push(seconds[i] - seconds[i-1])
	}
        return durations.join(' ');
      }
    }
  }
});
    </script>
  </head>
  <body>
    <div class="container" mv-app="timeline" mv-mode="edit" mv-storage="https://github.com/blayo/timeline">
      <article property="day" mv-multiple>
        <div class="card">
          <div class="card-block">
            <h6 class="card-header" property="name">Day</h6>
            <div>
              Times are [hour], activities are [activity] and durations in seconds are [duration(hour, activity)]:
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Hour</th>
                    <th>Activity</th>
                  </tr>
                </thead>
                <tbody>
                  <tr property="row" mv-multiple>
                    <td><span property="hour"></span></td>
                    <td><span property="activity"></span></td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
      </article>
    </div>
  </body>
</html>
